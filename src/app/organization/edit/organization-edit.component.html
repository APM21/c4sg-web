<div class="container">
  <h3 class="center-align">My Organization</h3>
  <div class="row">
    <form [formGroup]="organizationForm" (ngSubmit)="onSubmit(organizationForm.value, $event)" class="col s12">
      <div class="row">
        <div class="col m4 s12">
          <div class="info-avatar" *ngIf="organization"><img [src]="organization.logoUrl"></div>    
          <br>
          <div class="file-field input-field">
            <div class="btn">
              <span>Upload</span>
              <input type="file" (change)="onUploadLogo($event)">
            </div>
            <div class="red lighten-5 center-align error-msg" *ngIf="!logoValid">
              <h6 class="red-text darken-4">Max file size allowed is 1MB</h6>
            </div>
          </div>
        </div>

        <div class="col m4 s12">
          <div class="input-field">
            <label for="name">Organization Name *</label>
            <input type="text" id="name" formControlName="name" [ngClass]="{'validate':!organizationForm.controls['name'].valid}">
          </div>

          <div class="input-field">
            <label for="website">Website</label>
            <input type="url" id="website" class="" formControlName="websiteUrl">
              <div class="red lighten-5 center-align error-msg" *ngIf="!validHttp">
                <h6 class="red-text darken-4">Starts with "http://" or "https://"</h6>
              </div>
          </div>

          <div class="input-field">
            <select id="category" class="" formControlName="category" materialize="material_select">
              <option value="" disabled selected></option>
              <option *ngFor="let category of categories" [value]="category.value" [selected]="category.value === organization?.category.value">{{category.name}}</option>
            </select>
            <label>
              Category
            </label>
          </div>

          <div class="input-field">
            <label for="ein">EIN</label>
            <input type="text" id="ein" class="" formControlName="ein">
          </div>

          <div class="input-field">
            <label for="contact-name">Contact Name</label>
            <input type="text" id="contact-name" class="" formControlName="contactName">
          </div>

          <div class="input-field">
            <label for="contact-title">Contact Title</label>
            <input type="text" id="contact-title" class="" formControlName="contactTitle">
          </div>

          <div class="input-field">
            <label for="contact-email">Contact Email</label>
            <input type="email" id="contact-email" class="" formControlName="contactEmail">
          </div>

        </div>

        <div class="col m4 s12">
          <div class="input-field">
            <label for="address1">Address 1</label>
            <input type="text" id="address1" class="" formControlName="address1">
          </div>

          <div class="input-field">
            <label for="address2">Address 2</label>
            <input type="text" id="address2" class="" formControlName="address2">
          </div>

          <div class="input-field">
            <label for="city">City</label>
            <input type="text" id="city" class="" formControlName="city">
          </div>

          <div class="input-field">
            <label for="state">State</label>
            <input type="text" id="state" class="" formControlName="state">
          </div>

          <div class="input-field">
            <label for="zip">Zip Code</label>
            <input type="text" id="ein" class="" formControlName="zip">
          </div>

          <div class="input-field">
            <select id="country" class="" formControlName="country" materialize="material_select">
              <option value="" disabled></option>
              <option *ngFor="let country of countries" [value]="country.code" [selected]="country.code === organization?.country">{{country.name + ' (' + country.code + ')'}}</option>
            </select>
            <label>
              Country
            </label>
          </div>

          <div class="input-field">
            <label for="contact-phone">Contact Phone</label>
            <input type="tel" id="contact-phone" class="" formControlName="contactPhone">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col m4 s12 offset-m4">
          <div class="input-field">
            <textarea id="description" class="materialize-textarea" formControlName="description">
            </textarea>
            <label for="description">Description</label>
            <div *ngIf="!organizationForm.controls.description.pristine" class="right-align" [ngClass]="{'red-text': organizationForm.controls.description.value.length > descMaxLength}">{{organizationForm.controls.description.value.length}}/{{descMaxLength}}
            </div>
          </div>
        </div>
        <div class="col m4 s12s">
        </div>
      </div>

      <div class="row">
        <div class="col s12 push-m8">
          <button type="submit" class="waves-effect waves-light btn" [disabled]="!organizationForm.valid">Save</button>
        </div>
      </div>
    </form>
  </div>
</div>